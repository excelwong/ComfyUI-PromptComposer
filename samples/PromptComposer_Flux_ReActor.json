{"id":"31b5172e-9dd5-4482-acf2-3290f75f2e1a","revision":0,"last_node_id":55,"last_link_id":50,"nodes":[{"id":24,"type":"ShowText|pysssss","pos":[-559.5388793945312,120.54005432128906],"size":[413.2280578613281,134.50352478027344],"flags":{},"order":10,"mode":0,"inputs":[{"label":"文本","localized_name":"text","name":"text","type":"STRING","link":49}],"outputs":[{"label":"字符串","localized_name":"字符串","name":"STRING","shape":6,"type":"STRING","links":null}],"properties":{"cnr_id":"comfyui-custom-scripts","ver":"9f7b3215e6af317603056a9a1666bf6e83e28835","Node name for S&R":"ShowText|pysssss"},"widgets_values":["airplane interior,1girl,solo,upper_body,looking_at_viewer,laughing,braid,flight stewardess,crimson_flight-stewardess_uniform,small breasts"]},{"id":41,"type":"RandomNoise","pos":[256.1988220214844,124.2958984375],"size":[315,82],"flags":{},"order":0,"mode":0,"inputs":[{"localized_name":"随机种","name":"noise_seed","type":"INT","widget":{"name":"noise_seed"},"link":null}],"outputs":[{"label":"噪波生成","localized_name":"噪波","name":"NOISE","type":"NOISE","slot_index":0,"links":[30]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.28","Node name for S&R":"RandomNoise"},"widgets_values":[748090024896755,"randomize"]},{"id":42,"type":"KSamplerSelect","pos":[251.9414825439453,332.9206848144531],"size":[315,58],"flags":{},"order":1,"mode":0,"inputs":[{"localized_name":"采样器","name":"sampler_name","type":"COMBO","widget":{"name":"sampler_name"},"link":null}],"outputs":[{"label":"采样器","localized_name":"采样器","name":"SAMPLER","type":"SAMPLER","slot_index":0,"links":[31]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.28","Node name for S&R":"KSamplerSelect"},"widgets_values":["euler"]},{"id":44,"type":"VAELoader","pos":[592.5341796875,286.4286804199219],"size":[240.4910430908203,58],"flags":{},"order":2,"mode":0,"inputs":[{"localized_name":"vae名称","name":"vae_name","type":"COMBO","widget":{"name":"vae_name"},"link":null}],"outputs":[{"localized_name":"VAE","name":"VAE","type":"VAE","slot_index":0,"links":[35]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.28","Node name for S&R":"VAELoader"},"widgets_values":["flux\\ae.safetensors"]},{"id":45,"type":"SamplerCustomAdvanced","pos":[591.489013671875,125.36043548583984],"size":[239.12081909179688,326],"flags":{},"order":14,"mode":0,"inputs":[{"label":"噪波生成","localized_name":"噪波","name":"noise","type":"NOISE","link":30},{"label":"引导","localized_name":"引导器","name":"guider","type":"GUIDER","link":29},{"label":"采样器","localized_name":"采样器","name":"sampler","type":"SAMPLER","link":31},{"label":"Sigmas","localized_name":"西格玛","name":"sigmas","type":"SIGMAS","link":32},{"label":"Latent","localized_name":"Latent图像","name":"latent_image","type":"LATENT","link":33}],"outputs":[{"label":"输出","localized_name":"Latent","name":"output","type":"LATENT","slot_index":0,"links":[36]},{"label":"降噪输出","localized_name":"降噪Latent","name":"denoised_output","type":"LATENT","links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.28","Node name for S&R":"SamplerCustomAdvanced"},"widgets_values":[]},{"id":47,"type":"PreviewImage","pos":[846.213134765625,131.4397430419922],"size":[580.7588500976562,591.02490234375],"flags":{"collapsed":false},"order":16,"mode":0,"inputs":[{"label":"图像","localized_name":"图像","name":"images","type":"IMAGE","link":37}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.28","Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":39,"type":"DualCLIPLoader","pos":[-80.4931640625,250.39959716796875],"size":[311.8067321777344,130],"flags":{},"order":3,"mode":0,"inputs":[{"localized_name":"CLIP1","name":"clip_name1","type":"COMBO","widget":{"name":"clip_name1"},"link":null},{"localized_name":"CLIP2","name":"clip_name2","type":"COMBO","widget":{"name":"clip_name2"},"link":null},{"localized_name":"类型","name":"type","type":"COMBO","widget":{"name":"type"},"link":null},{"localized_name":"设备","name":"device","shape":7,"type":"COMBO","widget":{"name":"device"},"link":null}],"outputs":[{"label":"CLIP","localized_name":"CLIP","name":"CLIP","type":"CLIP","slot_index":0,"links":[26]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.28","Node name for S&R":"DualCLIPLoader"},"widgets_values":["t5xxl_fp8_e4m3fn.safetensors","clip_l.safetensors","flux","default"]},{"id":43,"type":"BasicScheduler","pos":[253.00596618652344,439.36248779296875],"size":[315,106],"flags":{},"order":9,"mode":0,"inputs":[{"label":"模型","localized_name":"模型","name":"model","type":"MODEL","link":38},{"localized_name":"调度器","name":"scheduler","type":"COMBO","widget":{"name":"scheduler"},"link":null},{"localized_name":"步数","name":"steps","type":"INT","widget":{"name":"steps"},"link":null},{"localized_name":"降噪","name":"denoise","type":"FLOAT","widget":{"name":"denoise"},"link":null}],"outputs":[{"label":"Sigmas","localized_name":"Sigmas","name":"SIGMAS","type":"SIGMAS","slot_index":0,"links":[32]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.28","Node name for S&R":"BasicScheduler"},"widgets_values":["simple",10,1]},{"id":5,"type":"EmptyLatentImage","pos":[260.21575927734375,599.901611328125],"size":[315,106],"flags":{},"order":4,"mode":0,"inputs":[{"localized_name":"宽度","name":"width","type":"INT","widget":{"name":"width"},"link":null},{"localized_name":"高度","name":"height","type":"INT","widget":{"name":"height"},"link":null},{"localized_name":"批次大小","name":"batch_size","type":"INT","widget":{"name":"batch_size"},"link":null}],"outputs":[{"label":"Latent","localized_name":"Latent","name":"LATENT","type":"LATENT","slot_index":0,"links":[33]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"EmptyLatentImage"},"widgets_values":[1024,1024,1]},{"id":25,"type":"CLIPTextEncode","pos":[-78.2857666015625,419.188232421875],"size":[313.2479553222656,88],"flags":{"collapsed":false},"order":11,"mode":0,"inputs":[{"label":"CLIP","localized_name":"clip","name":"clip","type":"CLIP","link":26},{"label":"文本","localized_name":"文本","name":"text","type":"STRING","widget":{"name":"text"},"link":50}],"outputs":[{"label":"条件","localized_name":"条件","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[41]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"CLIPTextEncode"},"widgets_values":["",[false,true]]},{"id":40,"type":"BasicGuider","pos":[253.00595092773438,244.57464599609375],"size":[318.4377136230469,46],"flags":{},"order":13,"mode":0,"inputs":[{"label":"模型","localized_name":"模型","name":"model","type":"MODEL","link":27},{"label":"条件","localized_name":"条件","name":"conditioning","type":"CONDITIONING","link":43}],"outputs":[{"label":"引导","localized_name":"引导器","name":"GUIDER","type":"GUIDER","slot_index":0,"links":[29]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.28","Node name for S&R":"BasicGuider"},"widgets_values":[]},{"id":49,"type":"FluxGuidance","pos":[-76.575927734375,546.166748046875],"size":[310.637939453125,58],"flags":{},"order":12,"mode":0,"inputs":[{"label":"条件","localized_name":"条件","name":"conditioning","type":"CONDITIONING","link":41},{"localized_name":"引导","name":"guidance","type":"FLOAT","widget":{"name":"guidance"},"link":null}],"outputs":[{"label":"条件","localized_name":"条件","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[43]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.28","Node name for S&R":"FluxGuidance"},"widgets_values":[3.5]},{"id":38,"type":"UNETLoader","pos":[-81.22028350830078,124.29595184326172],"size":[315,82],"flags":{},"order":5,"mode":0,"inputs":[{"localized_name":"UNET名称","name":"unet_name","type":"COMBO","widget":{"name":"unet_name"},"link":null},{"localized_name":"剪枝类型","name":"weight_dtype","type":"COMBO","widget":{"name":"weight_dtype"},"link":null}],"outputs":[{"label":"模型","localized_name":"模型","name":"MODEL","type":"MODEL","slot_index":0,"links":[27,38]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.28","Node name for S&R":"UNETLoader"},"widgets_values":["flux\\aiAngelFlux_v10FP8.safetensors","fp8_e4m3fn"]},{"id":46,"type":"VAEDecode","pos":[603.1128540039062,503.3474426269531],"size":[210,46],"flags":{},"order":15,"mode":0,"inputs":[{"label":"Latent","localized_name":"Latent","name":"samples","type":"LATENT","link":36},{"label":"VAE","localized_name":"vae","name":"vae","type":"VAE","link":35}],"outputs":[{"label":"图像","localized_name":"图像","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[37,47]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.28","Node name for S&R":"VAEDecode"},"widgets_values":[]},{"id":54,"type":"PreviewImage","pos":[857.6465454101562,837.416259765625],"size":[559.2330322265625,594.3533325195312],"flags":{},"order":18,"mode":0,"inputs":[{"label":"图像","localized_name":"图像","name":"images","type":"IMAGE","link":48}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.28","Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":51,"type":"ReActorFaceBoost","pos":[256.60357666015625,843.03662109375],"size":[259.55096435546875,366.4913330078125],"flags":{},"order":6,"mode":0,"inputs":[{"localized_name":"启用","name":"enabled","type":"BOOLEAN","widget":{"name":"enabled"},"link":null},{"localized_name":"增强模型","name":"boost_model","type":"COMBO","widget":{"name":"boost_model"},"link":null},{"localized_name":"插值方式","name":"interpolation","type":"COMBO","widget":{"name":"interpolation"},"link":null},{"localized_name":"可见性","name":"visibility","type":"FLOAT","widget":{"name":"visibility"},"link":null},{"localized_name":"CodeFormer_权重","name":"codeformer_weight","type":"FLOAT","widget":{"name":"codeformer_weight"},"link":null},{"localized_name":"restore_with_main_after","name":"restore_with_main_after","type":"BOOLEAN","widget":{"name":"restore_with_main_after"},"link":null}],"outputs":[{"label":"面部增强","localized_name":"FACE_BOOST","name":"FACE_BOOST","type":"FACE_BOOST","slot_index":0,"links":[44]}],"properties":{"cnr_id":"comfyui-reactor-node","ver":"b3d85c761c5c8d113d0ad6e8845996cc83215d29","Node name for S&R":"ReActorFaceBoost"},"widgets_values":[true,"codeformer.pth","Bicubic",1,0.5,false]},{"id":52,"type":"ReActorFaceSwap","pos":[525.0299072265625,842.978271484375],"size":[315,358],"flags":{},"order":17,"mode":0,"inputs":[{"label":"目标图像","localized_name":"input_image","name":"input_image","type":"IMAGE","link":47},{"label":"源图像","localized_name":"source_image","name":"source_image","shape":7,"type":"IMAGE","link":46},{"label":"面部模型","localized_name":"face_model","name":"face_model","shape":7,"type":"FACE_MODEL","link":null},{"label":"面部增强","localized_name":"face_boost","name":"face_boost","shape":7,"type":"FACE_BOOST","link":44},{"localized_name":"启用","name":"enabled","type":"BOOLEAN","widget":{"name":"enabled"},"link":null},{"localized_name":"置换模型","name":"swap_model","type":"COMBO","widget":{"name":"swap_model"},"link":null},{"localized_name":"检测模型","name":"facedetection","type":"COMBO","widget":{"name":"facedetection"},"link":null},{"localized_name":"修复模型","name":"face_restore_model","type":"COMBO","widget":{"name":"face_restore_model"},"link":null},{"localized_name":"面部修复可见性","name":"face_restore_visibility","type":"FLOAT","widget":{"name":"face_restore_visibility"},"link":null},{"localized_name":"CodeFormer_权重","name":"codeformer_weight","type":"FLOAT","widget":{"name":"codeformer_weight"},"link":null},{"localized_name":"检测目标性别","name":"detect_gender_input","type":"COMBO","widget":{"name":"detect_gender_input"},"link":null},{"localized_name":"检测源性别","name":"detect_gender_source","type":"COMBO","widget":{"name":"detect_gender_source"},"link":null},{"localized_name":"目标面部索引","name":"input_faces_index","type":"STRING","widget":{"name":"input_faces_index"},"link":null},{"localized_name":"源面部索引","name":"source_faces_index","type":"STRING","widget":{"name":"source_faces_index"},"link":null},{"localized_name":"控制台日志数量","name":"console_log_level","type":"COMBO","widget":{"name":"console_log_level"},"link":null}],"outputs":[{"label":"图像","localized_name":"图像","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[48]},{"label":"面部模型","localized_name":"FACE_MODEL","name":"FACE_MODEL","type":"FACE_MODEL","links":null}],"properties":{"cnr_id":"comfyui-reactor-node","ver":"b3d85c761c5c8d113d0ad6e8845996cc83215d29","Node name for S&R":"ReActorFaceSwap"},"widgets_values":[true,"inswapper_128.onnx","retinaface_resnet50","none",1,0.5,"no","no","0","0",1]},{"id":55,"type":"PromptComposer","pos":[-918.0523071289062,121.19193267822266],"size":[340.20001220703125,630],"flags":{},"order":7,"mode":0,"inputs":[{"label":"套装","localized_name":"套装","name":"套装","type":"COMBO","widget":{"name":"套装"},"link":null},{"label":"提示词","localized_name":"提示词","name":"提示词","type":"COMBO","widget":{"name":"提示词"},"link":null},{"label":"场所","localized_name":"场所","name":"场所","type":"COMBO","widget":{"name":"场所"},"link":null},{"label":"人物","localized_name":"人物","name":"人物","type":"COMBO","widget":{"name":"人物"},"link":null},{"label":"镜头","localized_name":"镜头","name":"镜头","type":"COMBO","widget":{"name":"镜头"},"link":null},{"label":"目光","localized_name":"目光","name":"目光","type":"COMBO","widget":{"name":"目光"},"link":null},{"label":"表情","localized_name":"表情","name":"表情","type":"COMBO","widget":{"name":"表情"},"link":null},{"label":"发型","localized_name":"发型","name":"发型","type":"COMBO","widget":{"name":"发型"},"link":null},{"label":"唇色","localized_name":"唇色","name":"唇色","type":"COMBO","widget":{"name":"唇色"},"link":null},{"label":"个性","localized_name":"个性","name":"个性","type":"COMBO","widget":{"name":"个性"},"link":null},{"label":"职业","localized_name":"职业","name":"职业","type":"COMBO","widget":{"name":"职业"},"link":null},{"label":"颜色","localized_name":"颜色","name":"颜色","type":"COMBO","widget":{"name":"颜色"},"link":null},{"label":"材质","localized_name":"材质","name":"材质","type":"COMBO","widget":{"name":"材质"},"link":null},{"label":"服装","localized_name":"服装","name":"服装","type":"COMBO","widget":{"name":"服装"},"link":null},{"label":"上装","localized_name":"上装","name":"上装","type":"COMBO","widget":{"name":"上装"},"link":null},{"label":"下装","localized_name":"下装","name":"下装","type":"COMBO","widget":{"name":"下装"},"link":null},{"label":"衣款","localized_name":"衣款","name":"衣款","type":"COMBO","widget":{"name":"衣款"},"link":null},{"label":"纹饰","localized_name":"纹饰","name":"纹饰","type":"COMBO","widget":{"name":"纹饰"},"link":null},{"label":"身体姿势","localized_name":"身体姿势","name":"身体姿势","type":"COMBO","widget":{"name":"身体姿势"},"link":null},{"label":"手部动作","localized_name":"手部动作","name":"手部动作","type":"COMBO","widget":{"name":"手部动作"},"link":null},{"label":"腿部动作","localized_name":"腿部动作","name":"腿部动作","type":"COMBO","widget":{"name":"腿部动作"},"link":null},{"label":"身材","localized_name":"身材","name":"身材","type":"COMBO","widget":{"name":"身材"},"link":null},{"label":"NSFW","localized_name":"NSFW","name":"NSFW","type":"COMBO","widget":{"name":"NSFW"},"link":null},{"label":"负面提示词","localized_name":"负面提示词","name":"负面提示词","type":"COMBO","widget":{"name":"负面提示词"},"link":null}],"outputs":[{"label":"positive_prompt","localized_name":"positive_prompt","name":"positive_prompt","type":"STRING","links":[49,50]},{"label":"negative_prompt","localized_name":"negative_prompt","name":"negative_prompt","type":"STRING","links":null}],"properties":{"cnr_id":"promptcomposer","ver":"b9a8308475952fa5ffd1c748ce9002593785705d","Node name for S&R":"PromptComposer"},"widgets_values":["0:(空)","0:(空)","4:airplane interior","1:1girl,solo","2:upper_body","1:looking_at_viewer","1:laughing","1:braid","0:(空)","0:(空)","41:flight stewardess","-1:随机","0:(空)","24:flight-stewardess_uniform","0:(空)","0:(空)","0:(空)","0:(空)","0:(空)","0:(空)","0:(空)","5:small breasts","0:(空)","0:(空)"]},{"id":53,"type":"LoadImage","pos":[-72.96401977539062,837.4093627929688],"size":[318.5186767578125,368.5401611328125],"flags":{},"order":8,"mode":0,"inputs":[{"localized_name":"图像","name":"image","type":"COMBO","widget":{"name":"image"},"link":null}],"outputs":[{"label":"图像","localized_name":"图像","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[46]},{"label":"遮罩","localized_name":"遮罩","name":"MASK","type":"MASK","links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.28","Node name for S&R":"LoadImage"},"widgets_values":["MonaLisa.png","image"]}],"links":[[26,39,0,25,0,"CLIP"],[27,38,0,40,0,"MODEL"],[29,40,0,45,1,"GUIDER"],[30,41,0,45,0,"NOISE"],[31,42,0,45,2,"SAMPLER"],[32,43,0,45,3,"SIGMAS"],[33,5,0,45,4,"LATENT"],[35,44,0,46,1,"VAE"],[36,45,0,46,0,"LATENT"],[37,46,0,47,0,"IMAGE"],[38,38,0,43,0,"MODEL"],[41,25,0,49,0,"CONDITIONING"],[43,49,0,40,1,"CONDITIONING"],[44,51,0,52,3,"FACE_BOOST"],[46,53,0,52,1,"IMAGE"],[47,46,0,52,0,"IMAGE"],[48,52,0,54,0,"IMAGE"],[49,55,0,24,0,"STRING"],[50,55,0,25,1,"STRING"]],"groups":[{"id":1,"title":"文生图","bounding":[-100.96691131591797,39.83427047729492,1546.9364013671875,700.0086669921875],"color":"#3f789e","font_size":24,"flags":{}},{"id":2,"title":"提示词生成器","bounding":[-930.2752685546875,40.264991760253906,804.1895751953125,722.9136352539062],"color":"#3f789e","font_size":24,"flags":{}},{"id":3,"title":"ReActor","bounding":[-97.35104370117188,757.912353515625,1547.1392822265625,685.2999267578125],"color":"#3f789e","font_size":24,"flags":{}}],"config":{},"extra":{"ds":{"scale":0.8264462809917354,"offset":[716.4123491287227,-460.91652297973616]},"ue_links":[],"frontendVersion":"1.16.8"},"version":0.4}