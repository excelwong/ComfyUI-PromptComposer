{"id":"4018a871-00c3-4c72-ab92-9786434d09bd","revision":0,"last_node_id":44,"last_link_id":37,"nodes":[{"id":24,"type":"ShowText|pysssss","pos":[-559.5388793945312,120.54005432128906],"size":[413.2280578613281,134.50352478027344],"flags":{},"order":4,"mode":0,"inputs":[{"label":"文本","localized_name":"text","name":"text","type":"STRING","link":34}],"outputs":[{"label":"字符串","localized_name":"字符串","name":"STRING","shape":6,"type":"STRING","links":null}],"properties":{"cnr_id":"comfyui-custom-scripts","ver":"9f7b3215e6af317603056a9a1666bf6e83e28835","Node name for S&R":"ShowText|pysssss"},"widgets_values":["masterpiece,best quality,ultra highres,ultra-detailed,realistic,photorealistic,simple background,white background,1girl,solo,upper_body,looking_at_viewer,laughing,long curly hair,red_lips,cheerleader,loincloth,wrapped,striped pattern,small breasts"]},{"id":27,"type":"ShowText|pysssss","pos":[-562.0503540039062,306.87744140625],"size":[405.4310302734375,157.8950653076172],"flags":{},"order":6,"mode":0,"inputs":[{"label":"文本","localized_name":"text","name":"text","type":"STRING","link":36}],"outputs":[{"label":"字符串","localized_name":"字符串","name":"STRING","shape":6,"type":"STRING","links":null}],"properties":{"cnr_id":"comfyui-custom-scripts","ver":"9f7b3215e6af317603056a9a1666bf6e83e28835","Node name for S&R":"ShowText|pysssss"},"widgets_values":["bra,blurry,out of focus,bad hands"]},{"id":26,"type":"CLIPTextEncode","pos":[-88.33784484863281,286.1366271972656],"size":[210,88],"flags":{"collapsed":false},"order":7,"mode":0,"inputs":[{"label":"CLIP","localized_name":"clip","name":"clip","type":"CLIP","link":15},{"label":"文本","localized_name":"文本","name":"text","type":"STRING","widget":{"name":"text"},"link":37}],"outputs":[{"label":"条件","localized_name":"条件","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[17]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"CLIPTextEncode"},"widgets_values":["",[false,true]]},{"id":5,"type":"EmptyLatentImage","pos":[136.74391174316406,267.8048095703125],"size":[315,106],"flags":{},"order":0,"mode":0,"inputs":[{"localized_name":"宽度","name":"width","type":"INT","widget":{"name":"width"},"link":null},{"localized_name":"高度","name":"height","type":"INT","widget":{"name":"height"},"link":null},{"localized_name":"批次大小","name":"batch_size","type":"INT","widget":{"name":"batch_size"},"link":null}],"outputs":[{"label":"Latent","localized_name":"Latent","name":"LATENT","type":"LATENT","slot_index":0,"links":[2]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"EmptyLatentImage"},"widgets_values":[1024,1024,1]},{"id":25,"type":"CLIPTextEncode","pos":[-83.65995025634766,127.87405395507812],"size":[210,88],"flags":{"collapsed":false},"order":5,"mode":0,"inputs":[{"label":"CLIP","localized_name":"clip","name":"clip","type":"CLIP","link":14},{"label":"文本","localized_name":"文本","name":"text","type":"STRING","widget":{"name":"text"},"link":35}],"outputs":[{"label":"条件","localized_name":"条件","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[16]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"CLIPTextEncode"},"widgets_values":["",[false,true]]},{"id":4,"type":"CheckpointLoaderSimple","pos":[144.0381622314453,120.5341796875],"size":[315,98],"flags":{},"order":1,"mode":0,"inputs":[{"localized_name":"Checkpoint名称","name":"ckpt_name","type":"COMBO","widget":{"name":"ckpt_name"},"link":null}],"outputs":[{"label":"模型","localized_name":"模型","name":"MODEL","type":"MODEL","slot_index":0,"links":[1]},{"label":"CLIP","localized_name":"CLIP","name":"CLIP","type":"CLIP","slot_index":1,"links":[14,15]},{"label":"VAE","localized_name":"VAE","name":"VAE","type":"VAE","slot_index":2,"links":[8]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"CheckpointLoaderSimple"},"widgets_values":["sdxl\\4Guofeng4XL_v12.safetensors"]},{"id":3,"type":"KSampler","pos":[467.2605895996094,125.67709350585938],"size":[320.80596923828125,514.6412963867188],"flags":{},"order":8,"mode":0,"inputs":[{"label":"模型","localized_name":"模型","name":"model","type":"MODEL","link":1},{"label":"正面条件","localized_name":"正面条件","name":"positive","type":"CONDITIONING","link":16},{"label":"负面条件","localized_name":"负面条件","name":"negative","type":"CONDITIONING","link":17},{"label":"Latent","localized_name":"Latent图像","name":"latent_image","type":"LATENT","link":2},{"localized_name":"随机种","name":"seed","type":"INT","widget":{"name":"seed"},"link":null},{"localized_name":"步数","name":"steps","type":"INT","widget":{"name":"steps"},"link":null},{"localized_name":"CFG","name":"cfg","type":"FLOAT","widget":{"name":"cfg"},"link":null},{"localized_name":"采样器","name":"sampler_name","type":"COMBO","widget":{"name":"sampler_name"},"link":null},{"localized_name":"调度器","name":"scheduler","type":"COMBO","widget":{"name":"scheduler"},"link":null},{"localized_name":"降噪","name":"denoise","type":"FLOAT","widget":{"name":"denoise"},"link":null}],"outputs":[{"label":"Latent","localized_name":"Latent","name":"LATENT","type":"LATENT","slot_index":0,"links":[7]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"KSampler"},"widgets_values":[487951631986438,"randomize",30,6,"dpmpp_sde_gpu","karras",1]},{"id":42,"type":"PreviewImage","pos":[842.9028930664062,831.8533935546875],"size":[408.4732666015625,448.10833740234375],"flags":{},"order":12,"mode":0,"inputs":[{"label":"图像","localized_name":"图像","name":"images","type":"IMAGE","link":29}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.28","Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":39,"type":"ReActorFaceSwap","pos":[346.15484619140625,842.3143310546875],"size":[315,358],"flags":{},"order":11,"mode":0,"inputs":[{"label":"目标图像","localized_name":"input_image","name":"input_image","type":"IMAGE","link":27},{"label":"源图像","localized_name":"source_image","name":"source_image","shape":7,"type":"IMAGE","link":28},{"label":"面部模型","localized_name":"face_model","name":"face_model","shape":7,"type":"FACE_MODEL","link":null},{"label":"面部增强","localized_name":"face_boost","name":"face_boost","shape":7,"type":"FACE_BOOST","link":null},{"localized_name":"启用","name":"enabled","type":"BOOLEAN","widget":{"name":"enabled"},"link":null},{"localized_name":"置换模型","name":"swap_model","type":"COMBO","widget":{"name":"swap_model"},"link":null},{"localized_name":"检测模型","name":"facedetection","type":"COMBO","widget":{"name":"facedetection"},"link":null},{"localized_name":"修复模型","name":"face_restore_model","type":"COMBO","widget":{"name":"face_restore_model"},"link":null},{"localized_name":"面部修复可见性","name":"face_restore_visibility","type":"FLOAT","widget":{"name":"face_restore_visibility"},"link":null},{"localized_name":"CodeFormer_权重","name":"codeformer_weight","type":"FLOAT","widget":{"name":"codeformer_weight"},"link":null},{"localized_name":"检测目标性别","name":"detect_gender_input","type":"COMBO","widget":{"name":"detect_gender_input"},"link":null},{"localized_name":"检测源性别","name":"detect_gender_source","type":"COMBO","widget":{"name":"detect_gender_source"},"link":null},{"localized_name":"目标面部索引","name":"input_faces_index","type":"STRING","widget":{"name":"input_faces_index"},"link":null},{"localized_name":"源面部索引","name":"source_faces_index","type":"STRING","widget":{"name":"source_faces_index"},"link":null},{"localized_name":"控制台日志数量","name":"console_log_level","type":"COMBO","widget":{"name":"console_log_level"},"link":null}],"outputs":[{"label":"图像","localized_name":"图像","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[29]},{"label":"面部模型","localized_name":"FACE_MODEL","name":"FACE_MODEL","type":"FACE_MODEL","links":null}],"properties":{"cnr_id":"comfyui-reactor-node","ver":"b3d85c761c5c8d113d0ad6e8845996cc83215d29","Node name for S&R":"ReActorFaceSwap"},"widgets_values":[true,"inswapper_128.onnx","retinaface_resnet50","codeformer.pth",1,0.5,"no","no","0","0",1]},{"id":37,"type":"PreviewImage","pos":[839.4419555664062,228.37159729003906],"size":[409.45025634765625,425.2580871582031],"flags":{},"order":10,"mode":0,"inputs":[{"label":"图像","localized_name":"图像","name":"images","type":"IMAGE","link":25}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":8,"type":"VAEDecode","pos":[846.7496337890625,129.50953674316406],"size":[210,46],"flags":{},"order":9,"mode":0,"inputs":[{"label":"Latent","localized_name":"Latent","name":"samples","type":"LATENT","link":7},{"label":"VAE","localized_name":"vae","name":"vae","type":"VAE","link":8}],"outputs":[{"label":"图像","localized_name":"图像","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[25,27]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"VAEDecode"},"widgets_values":[]},{"id":40,"type":"LoadImage","pos":[-75.5107192993164,846.67626953125],"size":[336.08331298828125,359.801513671875],"flags":{},"order":2,"mode":0,"inputs":[{"localized_name":"图像","name":"image","type":"COMBO","widget":{"name":"image"},"link":null}],"outputs":[{"label":"图像","localized_name":"图像","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[28]},{"label":"遮罩","localized_name":"遮罩","name":"MASK","type":"MASK","links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.26","Node name for S&R":"LoadImage"},"widgets_values":["MonaLisa.png","image"]},{"id":44,"type":"PromptComposer","pos":[-918.0523071289062,121.19193267822266],"size":[340.20001220703125,630],"flags":{},"order":3,"mode":0,"inputs":[{"label":"套装","localized_name":"套装","name":"套装","type":"COMBO","widget":{"name":"套装"},"link":null},{"label":"提示词","localized_name":"提示词","name":"提示词","type":"COMBO","widget":{"name":"提示词"},"link":null},{"label":"场所","localized_name":"场所","name":"场所","type":"COMBO","widget":{"name":"场所"},"link":null},{"label":"人物","localized_name":"人物","name":"人物","type":"COMBO","widget":{"name":"人物"},"link":null},{"label":"镜头","localized_name":"镜头","name":"镜头","type":"COMBO","widget":{"name":"镜头"},"link":null},{"label":"目光","localized_name":"目光","name":"目光","type":"COMBO","widget":{"name":"目光"},"link":null},{"label":"表情","localized_name":"表情","name":"表情","type":"COMBO","widget":{"name":"表情"},"link":null},{"label":"发型","localized_name":"发型","name":"发型","type":"COMBO","widget":{"name":"发型"},"link":null},{"label":"唇色","localized_name":"唇色","name":"唇色","type":"COMBO","widget":{"name":"唇色"},"link":null},{"label":"个性","localized_name":"个性","name":"个性","type":"COMBO","widget":{"name":"个性"},"link":null},{"label":"职业","localized_name":"职业","name":"职业","type":"COMBO","widget":{"name":"职业"},"link":null},{"label":"颜色","localized_name":"颜色","name":"颜色","type":"COMBO","widget":{"name":"颜色"},"link":null},{"label":"材质","localized_name":"材质","name":"材质","type":"COMBO","widget":{"name":"材质"},"link":null},{"label":"服装","localized_name":"服装","name":"服装","type":"COMBO","widget":{"name":"服装"},"link":null},{"label":"上装","localized_name":"上装","name":"上装","type":"COMBO","widget":{"name":"上装"},"link":null},{"label":"下装","localized_name":"下装","name":"下装","type":"COMBO","widget":{"name":"下装"},"link":null},{"label":"衣款","localized_name":"衣款","name":"衣款","type":"COMBO","widget":{"name":"衣款"},"link":null},{"label":"纹饰","localized_name":"纹饰","name":"纹饰","type":"COMBO","widget":{"name":"纹饰"},"link":null},{"label":"身体姿势","localized_name":"身体姿势","name":"身体姿势","type":"COMBO","widget":{"name":"身体姿势"},"link":null},{"label":"手部动作","localized_name":"手部动作","name":"手部动作","type":"COMBO","widget":{"name":"手部动作"},"link":null},{"label":"腿部动作","localized_name":"腿部动作","name":"腿部动作","type":"COMBO","widget":{"name":"腿部动作"},"link":null},{"label":"身材","localized_name":"身材","name":"身材","type":"COMBO","widget":{"name":"身材"},"link":null},{"label":"NSFW","localized_name":"NSFW","name":"NSFW","type":"COMBO","widget":{"name":"NSFW"},"link":null},{"label":"负面提示词","localized_name":"负面提示词","name":"负面提示词","type":"COMBO","widget":{"name":"负面提示词"},"link":null}],"outputs":[{"label":"positive_prompt","localized_name":"positive_prompt","name":"positive_prompt","type":"STRING","links":[34,35]},{"label":"negative_prompt","localized_name":"negative_prompt","name":"negative_prompt","type":"STRING","links":[36,37]}],"properties":{"aux_id":"excelwong/ComfyUI-PromptComposer","ver":"b9a8308475952fa5ffd1c748ce9002593785705d","Node name for S&R":"PromptComposer"},"widgets_values":["0:(空)","1:masterpiece,best quality,ultra highres,ultra-detailed,realistic,photorealistic","1:simple background,white background","1:1girl,solo","2:upper_body","1:looking_at_viewer","1:laughing","9:long curly hair","2:red_lips","0:(空)","10:cheerleader","-1:随机","-1:随机","0:(空)","0:(空)","-1:随机","-1:随机","-1:随机","0:(空)","0:(空)","0:(空)","5:small breasts","0:(空)","1:bra,blurry,out of focus,bad hands"]}],"links":[[1,4,0,3,0,"MODEL"],[2,5,0,3,3,"LATENT"],[7,3,0,8,0,"LATENT"],[8,4,2,8,1,"VAE"],[14,4,1,25,0,"CLIP"],[15,4,1,26,0,"CLIP"],[16,25,0,3,1,"CONDITIONING"],[17,26,0,3,2,"CONDITIONING"],[25,8,0,37,0,"IMAGE"],[27,8,0,39,0,"IMAGE"],[28,40,0,39,1,"IMAGE"],[29,39,0,42,0,"IMAGE"],[34,44,0,24,0,"STRING"],[35,44,0,25,1,"STRING"],[36,44,1,27,0,"STRING"],[37,44,1,26,1,"STRING"]],"groups":[{"id":1,"title":"文生图","bounding":[-100.96691131591797,39.83427047729492,1409.537841796875,696.87158203125],"color":"#3f789e","font_size":24,"flags":{}},{"id":2,"title":"提示词生成器","bounding":[-930.2752685546875,40.264991760253906,801.2815551757812,730.1837158203125],"color":"#3f789e","font_size":24,"flags":{}},{"id":3,"title":"ReActor","bounding":[-97.26665496826172,751.9228515625,1401.8468017578125,542.2974243164062],"color":"#3f789e","font_size":24,"flags":{}}],"config":{},"extra":{"ds":{"scale":0.6830134553650705,"offset":[1142.9710378467562,213.56471144561806]},"frontendVersion":"1.16.8","ue_links":[]},"version":0.4}